#
# Copyright (c) 2016 Intel Corporation
#
# SPDX-License-Identifier: Apache-2.0
#

menuconfig QMC5883
	bool "QMC5883 magnetometer"
	depends on I2C
	help
	  Enable driver for QMC5883 I2C-based magnetometer.

if QMC5883

config QMC5883_NAME
	string "Driver name"
	default "QMC5883"
	help
	  Device name with which the QMC5883 sensor is identified.

config QMC5883_I2C_MASTER_DEV_NAME
	string "I2C master where QMC5883 is connected"
	default "I2C_0"
	help
	  Specify the device name of the I2C master device to which QMC5883
	  is connected.

choice
	prompt "Trigger mode"
	default QMC5883_TRIGGER_GLOBAL_THREAD
	help
	  Specify the type of triggering to be used by the driver.

config QMC5883_TRIGGER_NONE
	bool "No trigger"

config QMC5883_TRIGGER_GLOBAL_THREAD
	bool "Use global thread"
	depends on GPIO
	select QMC5883_TRIGGER

config QMC5883_TRIGGER_OWN_THREAD
	bool "Use own thread"
	depends on GPIO
	select QMC5883_TRIGGER

endchoice

config QMC5883_TRIGGER
	bool

config QMC5883_GPIO_DEV_NAME
	string "GPIO device"
	default "GPIO_0"
	depends on QMC5883_TRIGGER
	help
	  The device name of the GPIO device to which the QMC5883 interrupt
	  pin is connected.

config QMC5883_GPIO_PIN_NUM
	int "Interrupt GPIO pin number"
	default 0
	depends on QMC5883_TRIGGER
	help
	  The number of the GPIO on which the interrupt signal from the
	  QMC5883 chip will be received.

config QMC5883_THREAD_PRIORITY
	int "Thread priority"
	depends on QMC5883_TRIGGER_OWN_THREAD
	default 10
	help
	  Priority of thread used by the driver to handle interrupts.

config QMC5883_THREAD_STACK_SIZE
	int "Thread stack size"
	depends on QMC5883_TRIGGER_OWN_THREAD
	default 1024
	help
	  Stack size of thread used by the driver to handle interrupts.

config QMC5883_ODR
	string "Output data rate"
	default "15"
	help
	  Magnetometer output data rate expressed in samples per second.
	  Data rates supported by the chip are 0.75, 1.5, 3, 7.5, 15, 30
	  and 75.

config QMC5883_FS
	string "Full-scale range"
	default "1.3"
	help
	  Magnetometer full-scale range.
	  An X value for the config represents a range of +/- X gauss. Valid
	  values are 0.88, 1.3, 1.9, 2.5, 4, 4.7, 5.6 and 8.1.

endif # QMC5883
